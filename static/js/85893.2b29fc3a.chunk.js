"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[85893],{20205:(e,t,i)=>{i.d(t,{r:()=>r,x:()=>_});var r,n,o=i(89379),s=i(69539),a=i(59784),c=i(68134),l=i(34761),d=i(13191),u=i(60008),g=i(20664),h=i(9392),p=i(75762),m=i(93131),b=i(77654),f=i(56121),I=i(91175),M=i(83490),w=i(62577),A=i(45463),v=i(76956),T=i(425),N=i(76336);(n=r||(r={}))[n.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",n[n.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class _ extends f.q{constructor(e,t){const i=new T.W({width:1,renderOccluded:A.m$.OccludeAndTransparent,isDecoration:!0}),n=new v.v({cullFace:M.s2.Back,renderOccluded:A.m$.Opaque,isDecoration:!0}),l=new v.v({cullFace:M.s2.Back,renderOccluded:A.m$.Opaque,isDecoration:!0}),d=new v.v({cullFace:M.s2.Back,renderOccluded:A.m$.Opaque,isDecoration:!0}),u=new v.v({writeDepth:!1,cullFace:M.s2.Front,renderOccluded:A.m$.Transparent,isDecoration:!0});super((0,o.A)({view:e},function(e){let{offsetMode:t,tubeMaterial:i,tipMaterial:n,capMaterial:o,outlineMaterial:s,calloutMaterial:a}=e;const c=t===r.CENTER_ON_CALLOUT?m.I4:0,l=[(0,h.fA)(c,0,-24),(0,h.fA)(c,0,m.vA/2)],d=function(e){const t=(0,g.d)((0,h.vt)(),e[e.length-1],e[e.length-2]);(0,g.n)(t,t),(0,g.g)(t,t,m.xj),(0,g.f)(t,t,e[e.length-1]);{const i=(0,g.d)((0,h.vt)(),e[0],e[1]);return(0,g.n)(i,i),(0,g.g)(i,i,m.xj),(0,g.f)(i,i,e[0]),[i,...e,t]}}(l),u=C({vertices:l,padding:0,materials:{tube:i,tip:n,cap:o}}),p=C({vertices:l,padding:m.D9,materials:{tube:s,tip:s,cap:s}}),f=(0,w.Z8)(a,[[c,0,0],[c-m.I4,0,0]]),M=(0,w.Z8)(a,[[c,0,0],[c-m.I4,0,0]]);return{renderObjects:[...u.normal.map((e=>new I.M(e,N.p7.Unfocused|b.s5))),...p.normal.map((e=>new I.M(e,N.p7.Unfocused|b.s5))),new I.M(f,N.p7.Unfocused|b.s5|b.xM),...u.focused.map((e=>new I.M(e,N.p7.Focused|b.s5))),...p.focused.map((e=>new I.M(e,N.p7.Focused|b.s5))),new I.M(M,N.p7.Focused|b.s5|b.xM)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[d]},collisionPriority:1,radius:m.rb,state:b.s5}}({offsetMode:t,tubeMaterial:n,tipMaterial:l,capMaterial:d,outlineMaterial:u,calloutMaterial:i}))),this._themeHandle=(0,c.wB)((()=>e.effectiveTheme.accentColor),(e=>{const t=(0,a.bJ)(e),r=s.A.toUnitRGBA(e),o=s.A.toUnitRGBA(t),c=s.A.toUnitRGBA(s.A.blendColors(t,e,.4)),g=s.A.toUnitRGBA(s.A.blendColors(t,e,.14));i.setParameters({color:r}),n.setParameters({color:g}),l.setParameters({color:o}),d.setParameters({color:c}),u.setParameters({color:r})}),c.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}function C(e){let{vertices:t,padding:i,materials:r}=e;const n=e=>{const n=t.slice(),o=(0,g.d)(p.rq.get(),n[0],n[1]);(0,g.n)(o,o);const s=(0,g.d)(p.rq.get(),n[n.length-1],n[n.length-2]);if((0,g.n)(s,s),i>0){const e=(0,g.g)((0,h.vt)(),s,-i);n[n.length-1]=(0,g.f)(e,e,n[n.length-1]);const t=(0,g.g)((0,h.vt)(),o,-i);n[0]=(0,g.f)(t,t,n[0])}const a=e?m.cE:1,c=m.xj*a,b=m.rb*a,f=(0,l.D_)(p.Rc.get());if(i>0){const e=c/4,t=(0,g.i)(p.rq.get(),0,e,0),r=1+i/e;(0,l.Tl)(f,f,t),(0,l.hs)(f,f,(0,g.i)(p.rq.get(),r,r,r)),(0,l.Tl)(f,f,(0,g.g)(t,t,-1/r))}const I=(0,l.D_)((0,d.vt)()),M=(0,h.fA)(0,1,0),A=(0,l.I0)((0,d.vt)(),(0,u.Yc)(p.J8.get(),M,s));A[12]=n[n.length-1][0],A[13]=n[n.length-1][1],A[14]=n[n.length-1][2],(0,l.lw)(A,A,f);const v=r.tube,T=function(e,t,i){const r=[],n=12;for(let o=0;o<n;o++){const t=o/n*2*Math.PI;r.push([Math.cos(t)*e,Math.sin(t)*e])}return(0,w.Nq)(i,r,t,[],[],!1)}(m.qD*(e?m.FF:1)+i,n,v);T.transformation=I;const N=[T],_=r.tip,C=(0,w.EE)(_,c,b,24,!1,!1,!0);C.transformation=A,N.push(C);const O=r.cap,R=(0,w.EE)(O,c,b,24,!1,!0,!1);R.transformation=A,N.push(R);const y=(0,l.I0)((0,d.vt)(),(0,u.Yc)(p.J8.get(),M,o));return y[12]=n[0][0],y[13]=n[0][1],y[14]=n[0][2],(0,l.lw)(y,y,f),N.push(C.instantiate({transformation:y})),N.push(R.instantiate({transformation:y})),N};return{normal:n(!1),focused:n(!0)}}},48678:(e,t,i)=>{i.d(t,{S:()=>h,b:()=>g});var r,n,o=i(57528),s=i(3799),a=i(58350),c=i(21390),l=i(86955),d=i(66470),u=i(2687);function g(e){const t=new u.N5,{vertex:i,fragment:g,attributes:h,varyings:p}=t;return(0,s.NB)(i,e),h.add(d.r.POSITION,"vec3"),h.add(d.r.UV0,"vec2"),p.add("vUV","vec2"),i.main.add((0,l.H)(r||(r=(0,o.A)(["vUV = uv0;\ngl_Position = proj * view * vec4(position, 1.0);"])))),g.uniforms.add(new a.E("backgroundColor",(e=>e.backgroundColor)),new a.E("gridColor",(e=>e.gridColor)),new c.m("gridWidth",(e=>e.gridWidth))).main.add((0,l.H)(n||(n=(0,o.A)(["const float LINE_WIDTH = 1.0;\nvec2 uvScaled = vUV * gridWidth;\nvec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\nvec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\ngrid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\ngrid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\nfloat gridFade = max(grid.x, grid.y);\nfloat gridAlpha = gridColor.a * gridFade;\nfragColor =\nvec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\nvec4(gridColor.rgb, 1.0) * gridAlpha;"])))),t}const h=Object.freeze(Object.defineProperty({__proto__:null,build:g},Symbol.toStringTag,{value:"Module"}))},56332:(e,t,i)=>{i.d(t,{E$:()=>n,Or:()=>o,qb:()=>s});var r=i(59784);const n=(0,i(55855).fA)(0,0,0,.04);function o(e){let{accentColor:t}=e;return(0,r.f6)(t,.5)}function s(e){let{accentColor:t}=e;return(0,r.f6)(t,.7)}},59962:(e,t,i)=>{i.d(t,{t:()=>d,k:()=>u});const r="theme-style";function n(e,t){return function(e,t){const i=new Image(t,t);return i.src=e,i}(function(e){const t=(new XMLSerializer).serializeToString(e);return"data:image/svg+xml;base64,".concat(btoa(t))}(o(function(e){const t=e.split(",")[1],i=atob(t);return(new DOMParser).parseFromString(i,"image/svg+xml")}(e),t)),t.size)}function o(e,t){let{accentColor:i,contrastColor:n}=t;const o=i.toHex(),s=i.a,a=n.toHex(),c=n.a,l=e.getElementsByTagNameNS("http://www.w3.org/2000/svg","style").namedItem(r);return l&&(l.innerHTML="\n      .contrast-fill { fill: ".concat(a,"; fill-opacity: ").concat(c,"; }\n      .contrast-stroke { stroke: ").concat(a,"; stroke-opacity: ").concat(c,";  }\n      .accent-fill { fill: ").concat(o,"; fill-opacity: ").concat(s,"; }\n      .accent-stroke { stroke: ").concat(o,"; stroke-opacity:  ").concat(s,"; }")),e}const s="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==",a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+";var c=i(96897);const l=64;function d(e,t){const{accentColor:i,contrastColor:r,preMultiplyAlpha:o}=t;return e.fromData("heading-rotate:[accent:".concat(i,",contrast:").concat(r,",size:").concat(l,"]"),(()=>new c.g(n(s,{accentColor:i,contrastColor:r,size:l}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:o})))}function u(e,t){const{accentColor:i,contrastColor:r,preMultiplyAlpha:o}=t;return e.fromData("tilt-rotate:[accent:".concat(i,",contrast:").concat(r,",size:").concat(l,"]"),(()=>new c.g(n(a,{accentColor:i,contrastColor:r,size:l}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:o})))}},62315:(e,t,i)=>{i.d(t,{A:()=>p});var r=i(35143),n=i(69098),o=i(73582),s=i(42553),a=i(30726),c=i(46053),l=i(21403),d=(i(81806),i(47249),i(85842)),u=i(40565),g=i(19247);let h=class extends(n.A.ClonableMixin(s.A)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&this.width===e.width&&this.height===e.height&&(0,a.CM)(this.position,e.position)}};(0,r._)([(0,c.MZ)({type:["plane"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],h.prototype,"type",void 0),(0,r._)([(0,c.MZ)({type:g.A,json:{write:{isRequired:!0}}})],h.prototype,"position",void 0),(0,r._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,l.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],h.prototype,"heading",void 0),(0,r._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,l.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],h.prototype,"tilt",void 0),(0,r._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],h.prototype,"width",void 0),(0,r._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],h.prototype,"height",void 0),h=(0,r._)([(0,d.$)("esri.analysis.SlicePlane")],h);const p=h},67169:(e,t,i)=>{i.d(t,{b:()=>b});var r=i(89379),n=i(69539),o=i(68134),s=i(9392),a=i(93131),c=i(77654),l=i(56121),d=i(38317),u=i(91175),g=i(62577),h=i(45463),p=i(425),m=i(76336);class b extends l.q{constructor(e,t){const i=(0,c.wZ)(t),l=i?a.aj:a.YG,b=l*a.UF,f=a.YG,I={renderOccluded:h.m$.OccludeAndTransparent,isDecoration:!0},M=new p.W((0,r.A)((0,r.A)({},I),{},{width:l})),w=new p.W((0,r.A)((0,r.A)({},I),{},{width:b})),A=new p.W((0,r.A)((0,r.A)({},I),{},{width:f}));super((0,r.A)((0,r.A)({view:e},d.MO),function(e){let{isCorner:t,unfocusedMaterial:i,focusedMaterial:r,outlineMaterial:n}=e;const o=t?[(0,s.fA)(1,0,0),(0,s.fA)(0,0,0),(0,s.fA)(0,1,0)]:[(0,s.fA)(1,0,0),(0,s.fA)(-1,0,0)];return{renderObjects:[new u.M((0,g.Z8)(i,o),m.p7.Unfocused|c.oc),new u.M((0,g.Z8)(r,o),m.p7.Focused|c.oc),new u.M((0,g.Z8)(n,o),c.zm)],collisionType:{type:"line",paths:[o]},radius:t?a.E3:a.sd,state:c.oc}}({isCorner:i,unfocusedMaterial:M,focusedMaterial:w,outlineMaterial:A}))),this._themeHandle=(0,o.wB)((()=>e.effectiveTheme.accentColor),(e=>{const t=n.A.toUnitRGBA(e);M.setParameters({color:t}),w.setParameters({color:t}),A.setParameters({color:t})}),o.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}},77654:(e,t,i)=>{i.d(t,{s5:()=>Me,xM:()=>ve,CB:()=>we,pu:()=>Ae,h7:()=>ie,Yx:()=>ue,DI:()=>ee,PI:()=>pe,tn:()=>he,FK:()=>$,W6:()=>re,r_:()=>te,wZ:()=>ge,fE:()=>Oe,d0:()=>me,Md:()=>fe,bR:()=>Ie,oc:()=>_e,zm:()=>Ce,xQ:()=>K,gi:()=>oe,d8:()=>se,Oj:()=>ae,vJ:()=>ne});var r=i(62315),n=(i(81806),i(76460)),o=i(15941),s=i(76931),a=i(34761),c=i(20664),l=i(9392),d=(i(76797),i(19247)),u=i(9956),g=i(5568),h=i(79650),p=i(13927),m=i(95925),b=i(96190),f=i(75762),I=i(56332),M=i(93131),w=i(17430),A=i(38317),v=i(7256),T=i(43047),N=i(55855),_=i(32314),C=i(62577),O=i(45463),R=i(34981),y=i(9937),E=i(59696),j=i(77730),L=i(82809),S=i(86401),P=i(63928),x=i(16506),D=i(59246),Z=i(48678),H=i(93345),U=i(31432),q=i(57162);class W extends U.Y{constructor(){super(...arguments),this.backgroundColor=(0,N.fA)(1,0,0,.5),this.gridColor=(0,N.fA)(0,1,0,.5),this.gridWidth=4}}class k extends D.w{constructor(e,t){super(e,t,new x.$(Z.S,(()=>i.e(3744).then(i.bind(i,3744)))))}initializePipeline(){return(0,q.Ey)({blending:q.RC,depthTest:{func:H.MT.LESS},colorWrite:q.kn})}}class G extends P.W{constructor(e){super(e,z),this.produces=new Map([[j.N.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,R.RN)(e)]]),this._configuration=new y.n}get visible(){return!0}createGLMaterial(e){return new Y(e)}createBufferWriter(){return new L.Z(S.l5)}getConfiguration(){return this._configuration}}class Y extends E.A{constructor(e){super(e)}beginSlot(e){return this.getTechnique(k,e)}}class z extends W{constructor(){super(...arguments),this.renderOccluded=O.m$.Occlude,this.isDecoration=!1}}class V extends _.X{constructor(e){super(e),this._material=null,this._renderOccluded=O.m$.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,N.fA)(1,0,0,1),this._backgroundColor=(0,N.fA)(1,0,0,1),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,T.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,T.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new G(this._materialParameters)}destroyExternalResources(){this._material=null}forEachMaterial(e){e(this._material)}createGeometries(e){if(null!=this._material){const t=(0,C.Gj)(this._material);e.addGeometry(t)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){var e;null===(e=this._material)||void 0===e||e.setParameters(this._materialParameters)}}var B,F,X=i(74487),J=i(37431),Q=i(76336);function $(e,t,i,r,n,o,s,a){return function(e,t,i,r,n,o){const s=(0,c.e)(e,t),a=f.rq.get(),l=f.rq.get();switch(r===Ae.HORIZONTAL_OR_VERTICAL?Math.abs(s)>M.lS?Ae.HORIZONTAL:Ae.VERTICAL:r){case Ae.VERTICAL:{const r=Math.abs(s)<=M.Ll?e:i.viewUp;(0,c.h)(a,r,t),(0,c.c)(l,t);break}case Ae.HORIZONTAL:(0,c.h)(a,i.viewUp,t),(0,c.h)(l,t,a);break;case Ae.TILTED:{const r=Math.abs(s)<=M.Ll?t:i.viewUp;(0,c.h)(a,r,e),(0,c.h)(l,e,a);break}}const d=(0,c.h)(f.rq.get(),a,l);(0,c.e)(d,i.viewForward)>0&&(0,c.g)(l,l,-1),(0,c.n)(n,a),(0,c.n)(o,l)}(t,s.worldUpAtPosition(e,f.rq.get()),n,o,a.basis1,a.basis2),(0,c.g)(a.basis1,a.basis1,i),(0,c.g)(a.basis2,a.basis2,r),(0,c.c)(a.origin,e),(0,p.mR)(a.basis2,a.basis1,a.origin,a.plane),a}function K(e,t,i,r,n,o){const s=(0,c.c)(f.rq.get(),n.origin);(0,c.f)(s,s,(0,c.g)(f.rq.get(),n.basis1,e.direction[0]<0?1:-1)),(0,c.f)(s,s,(0,c.g)(f.rq.get(),n.basis2,e.direction[1]<0?1:-1));const a=(0,c.l)(n.basis1),l=(0,c.l)(n.basis2),d=(0,c.d)(f.rq.get(),i,s),u=(0,c.d)(f.rq.get(),t,s);let g=0,p=0;if(ge(e)){const t=ue(n),i=ue(o);g=a-.5*e.direction[0]*(0,c.e)(n.basis1,u)/a,p=l-.5*e.direction[1]*(0,c.e)(n.basis2,u)/l;const r=i/t;g*=r,p*=r}const m=g+.5*e.direction[0]*(0,c.e)(n.basis1,d)/a,b=p+.5*e.direction[1]*(0,c.e)(n.basis2,d)/l,I=(0,c.g)(f.rq.get(),n.basis1,m/a),w=(0,c.g)(f.rq.get(),n.basis2,b/l);(m<=0||le(o.origin,I,r)<=M.Sw)&&(0,c.c)(I,o.basis1),(b<=0||le(o.origin,w,r)<=M.Sw)&&(0,c.c)(w,o.basis2);const A=(0,c.c)(f.rq.get(),s);return(0,c.f)(A,A,(0,c.g)(f.rq.get(),I,e.direction[0]<0?-1:1)),(0,c.f)(A,A,(0,c.g)(f.rq.get(),w,e.direction[1]<0?-1:1)),(0,h.f)(A,I,w,o)}function ee(e,t){return M.aE*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function te(e,t,i,r){const n=(0,c.h)(f.rq.get(),t,i);return(0,c.h)(n,n,t),(0,p.O_)(e,n,r)}function ie(e,t){return(0,A.wQ)(e.basis1,e.basis2,e.origin,t)}function re(e,t,i,r){const n=t.worldUpAtPosition(e.origin,f.rq.get()),o=f.rq.get();switch(i){case we.HEADING:(0,c.c)(o,n);break;case we.TILT:(0,c.c)(o,e.basis1)}return(0,p.O_)(e.origin,o,r)}function ne(e,t,i,r){const n=ce(i,B.NEGATIVE_X),o=f.Rc.get();(0,a.Qr)(o,t,n.edge*Math.PI/2);const d=(0,c.n)(f.rq.get(),n.basis);let u=(0,c.g)(f.rq.get(),d,n.direction*r.computeScreenPixelSizeAt(n.position)*M.I4);(0,c.f)(u,u,n.position);const g=r.projectToRenderScreen(u,(0,s.sc)(f.rq.get())),p=function(e,t){const[i,r,n,o]=e.viewport,s=Math.min(n,o)/16;let a=!0;return t[0]<i+s?(t[0]=i+s,a=!1):t[0]>i+n-s&&(t[0]=i+n-s,a=!1),t[1]<r+s?(t[1]=r+s,a=!1):t[1]>r+o-s&&(t[1]=r+o-s,a=!1),a}(r,g);(0,J.RI)(r,g,Te),(0,c.n)(Te.direction,Te.direction);const m=f.rq.get();!p&&(0,h.i)(i,Te,m)&&(u=m),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=(0,l.o8)(u),p?e.state|=ve:e.state&=~ve}function oe(e,t,i,r){const n=(0,c.l)(r.basis1),o=(0,c.l)(r.basis2),s=de(r),l=ue(r),d=(0,c.i)(f.rq.get(),0,0,0);(0,c.f)(d,(0,c.g)(f.rq.get(),r.basis1,t.direction[0]),(0,c.g)(f.rq.get(),r.basis2,t.direction[1])),(0,c.f)(d,r.origin,d);let u=0,g=1;if(ge(t))1===t.direction[0]&&-1===t.direction[1]?u=Ne:1===t.direction[0]&&1===t.direction[1]?u=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(u=3*Math.PI/2),g=l;else{const e=0!==t.direction[0]?1:2;u=1===e?Ne:0,g=(1===e?o:n)-s}const h=(0,a.N9)(f.Rc.get(),u);(0,a.hs)(h,h,(0,c.i)(f.rq.get(),g,g,g)),(0,a.lw)(h,i,h),h[12]=0,h[13]=0,h[14]=0,e.modelTransform=h,e.renderLocation=d}function se(e,t,i,r){const n=r.worldUpAtPosition(i.origin,f.rq.get()),o=ce(i,B.POSITIVE_X),s=(0,a.N9)(f.Rc.get(),o.edge*Math.PI/2);(0,a.eL)(s,s,-be(i,n)),(0,a.lw)(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function ae(e,t,i){const r=ce(i,B.POSITIVE_Y),n=(0,a.N9)(f.Rc.get(),r.edge*Math.PI/2);(0,a.eL)(n,n,Ne),(0,a.lw)(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=r.position}function ce(e,t){switch(t){case B.POSITIVE_X:return{basis:e.basis1,direction:1,position:(0,c.f)(f.rq.get(),e.origin,e.basis1),edge:t};case B.POSITIVE_Y:return{basis:e.basis2,direction:1,position:(0,c.f)(f.rq.get(),e.origin,e.basis2),edge:t};case B.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:(0,c.d)(f.rq.get(),e.origin,e.basis1),edge:t};case B.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:(0,c.d)(f.rq.get(),e.origin,e.basis2),edge:t}}}function le(e,t,i){const r=i.projectToRenderScreen((0,c.f)(f.rq.get(),e,t),(0,s.sc)(f.rq.get())),n=i.projectToRenderScreen((0,c.d)(f.rq.get(),e,t),(0,s.sc)(f.rq.get()));return(0,c.k)((0,c.d)(r,r,n))}function de(e){const t=(0,c.l)(e.basis1),i=(0,c.l)(e.basis2);return M.Jj*Math.min(t,i)}function ue(e){return de(e)}function ge(e){return 0!==e.direction[0]&&0!==e.direction[1]}function he(e){return new v.t({view:e,attached:!1,color:(0,I.qb)(e.effectiveTheme),width:M.NT,renderOccluded:O.m$.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function pe(e){return new V({view:e,attached:!1,backgroundColor:I.E$,gridColor:(0,I.Or)(e.effectiveTheme),gridWidth:4,renderOccluded:O.m$.OccludeAndTransparent,isDecoration:!0})}function me(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new r.A;if(null==e)return null;const{renderCoordsHelper:s}=t,a=s.fromRenderCoords(e.origin,new d.A({spatialReference:t.spatialReference}));if(null==a)return null;const l=(0,u.tryProjectWithZConversion)(a,i);if(null==l)return null;n.position=l;const g=2*(0,c.l)(e.basis1),h=2*(0,c.l)(e.basis2),p=X.d.renderUnitScaleFactor(t.spatialReference,i);n.width=g*p,n.height=h*p;const m=s.worldUpAtPosition(e.origin,f.rq.get());return n.tilt=(0,o.KJ)(be(e,m)),n.heading=s.headingAtPosition(e.origin,e.basis1)-90,n}function be(e,t){return(0,b.EJ)(t,e.basis2,e.basis1)+Ne}function fe(e,t){if(null==(null===e||void 0===e?void 0:e.position))return null;const i=(0,w.B)(e.position,t.spatialReference,t.elevationProvider);if(null==i)return null;const r=X.d.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),n=e.width*r,o=e.height*r;return{position:i,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function Ie(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,h.d)();if(null==e)return null;const s=function(e,t,i,r,s,a){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,h.d)();return a.toRenderCoords(e,l.origin)?(a.worldBasisAtPosition(l.origin,g._.X,l.basis1),a.worldBasisAtPosition(l.origin,g._.Y,l.basis2),(0,p.mR)(l.basis2,l.basis1,l.origin,l.plane),(0,h.r)(l,-(0,o.kU)(t),(0,h.n)(l),l),(0,h.r)(l,(0,o.kU)(i),l.basis1,l),(0,c.g)(l.basis1,l.basis1,r/2),(0,c.g)(l.basis2,l.basis2,s/2),(0,h.u)(l),l):(n.A.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error("Failed to project slice plane position, projection from ".concat(e.spatialReference.wkid," is not supported")),null)}(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,r);return i.tiltEnabled||null==s||function(e,t,i){const r=t.worldUpAtPosition(e.origin,f.rq.get()),n=e.basis1,o=be(e,r),s=Math.round(o/Ne)*Ne;(0,h.r)(e,s-o,n,i)}(s,t.renderCoordsHelper,s),s}(F=B||(B={}))[F.POSITIVE_X=0]="POSITIVE_X",F[F.POSITIVE_Y=1]="POSITIVE_Y",F[F.NEGATIVE_X=2]="NEGATIVE_X",F[F.NEGATIVE_Y=3]="NEGATIVE_Y";const Me=Q.SJ.Custom1;var we,Ae;!function(e){e[e.HEADING=1]="HEADING",e[e.TILT=2]="TILT"}(we||(we={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.TILTED=3]="TILTED"}(Ae||(Ae={}));const ve=Q.SJ.Custom2,Te=(0,m.vt)(),Ne=Math.PI/2,_e=Q.SJ.Custom1,Ce=Q.SJ.Custom2;function Oe(e){return null!=("building-scene-3d"===e.type?e:null)}},78136:(e,t,i)=>{i.d(t,{Q:()=>w});var r=i(89379),n=i(69539),o=i(59784),s=i(30726),a=i(68134),c=i(77654),l=i(56121),d=i(38317),u=i(91175),g=i(50468),h=i(17345),p=i(62577),m=i(45463),b=i(66470),f=i(30416),I=i(425),M=i(76336);class w extends l.q{constructor(e,t){const i=(0,o._L)(e.effectiveTheme.accentColor,.5),s=(0,o.bJ)(e.effectiveTheme.accentColor),l=t(i,s),w=new f.r({draped:!1,texture:l.texture,writeDepth:!1,renderOccluded:m.m$.Opaque,isDecoration:!0}),A=d.eO.calloutWidth,v=new I.W({width:A,renderOccluded:m.m$.OccludeAndTransparent,isDecoration:!0});super((0,r.A)({view:e},function(e){let{imageMaterial:t,calloutMaterial:i}=e;const{focusMultiplier:r,calloutLength:n,discRadius:o}=d.eO,s=o*r,a=(e,t)=>{const i=[0,1,2,2,3,0];return new h.V(t,[[b.r.POSITION,new g.n([n-e,-e,0,n+e,-e,0,n+e,e,0,n-e,e,0],i,3,!0)],[b.r.UV0,new g.n([0,0,1,0,1,1,0,1],i,2,!0)]])},l=(0,p.Z8)(i,[[0,0,0],[n-o,0,0]]),m=(0,p.Z8)(i,[[0,0,0],[n-s,0,0]]),f=c.s5;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[n,0,0]},focusMultiplier:r,radius:o,renderObjects:[new u.M(a(o,t),M.p7.Unfocused|f),new u.M(l,M.p7.Unfocused|f),new u.M(a(s,t),M.p7.Focused|f),new u.M(m,M.p7.Focused|f)],state:f}}({imageMaterial:w,calloutMaterial:v}))),this._material=w,this._textureHandle=l,this._themeHandle=(0,a.wB)((()=>e.effectiveTheme.accentColor),(e=>{const i=(0,o._L)(e,.5),r=(0,o.bJ)(e),s=this._textureHandle;this._textureHandle=t(i,r),w.setParameters({texture:this._textureHandle.texture}),null!==s&&void 0!==s&&s.release(),v.setParameters({color:n.A.toUnitRGBA(e)})}),a.Vh)}destroy(){this._textureHandle=(0,s.Gz)(this._textureHandle),this._themeHandle.remove(),this._material.dispose(),super.destroy()}}},93131:(e,t,i)=>{i.d(t,{Bw:()=>b,D9:()=>T,DG:()=>u,E3:()=>O,FF:()=>c,Hb:()=>o,I4:()=>A,Jj:()=>C,Ll:()=>h,NT:()=>f,Sw:()=>y,UF:()=>a,YG:()=>_,ZR:()=>p,aE:()=>E,aj:()=>N,c1:()=>d,cE:()=>l,cO:()=>m,lS:()=>g,qD:()=>I,rb:()=>M,sd:()=>R,vA:()=>v,vo:()=>s,xj:()=>w});var r=i(81806),n=i(15941);const o=(0,r.A)("mac")?"Meta":"Control",s="Shift",a=2,c=1.15,l=1.15,d=2500,u=.02,g=Math.cos((0,n.kU)(45)),h=Math.cos((0,n.kU)(5)),p=.95,m=.3,b=2,f=1,I=3,M=11,w=22.5,A=40,v=48,T=2.25,N=4,_=1,C=.3,O=6,R=4,y=1600,E=.4}}]);
//# sourceMappingURL=85893.2b29fc3a.chunk.js.map