{"version":3,"file":"static/js/68383.5e6e1df3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const l={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:p}}},read:!1}};function p(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(l)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=l,r.readSublayers=p,r.forEachSublayer=e}(c||(c={}));export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../PopupTemplate.js\";import o from\"../../request.js\";import s from\"../../core/Error.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import a from\"../../core/Loadable.js\";import n from\"../../core/Logger.js\";import p from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as u}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as y}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../geometry/Extent.js\";import m from\"../../geometry/SpatialReference.js\";import h from\"../FeatureLayer.js\";import f from\"./BuildingSublayer.js\";import{zeroCapabilities as g}from\"../support/capabilities.js\";import{popupEnabled as j}from\"../support/commonProperties.js\";import{getFieldDomain as b}from\"../support/featureLayerUtils.js\";import{defineFieldProperties as v}from\"../support/fieldProperties.js\";import L from\"../support/FieldsIndex.js\";import{unpackFieldNames as I}from\"../support/fieldUtils.js\";import{fetchIndexInfo as S}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as F,I3SMaterialDefinition as w,I3STextureSetDefinition as O,I3SGeometryDefinition as x}from\"../support/I3SLayerDefinitions.js\";import{webSceneRendererTypes as P}from\"../../renderers/support/typeUtils.js\";import q from\"../../rest/support/Query.js\";import{isNumber as T}from\"../../support/guards.js\";import{createPopupTemplate as Q}from\"../../support/popupUtils.js\";import U from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as E}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as D,getFetchPopupTemplate as R}from\"../../views/layers/support/popupUtils.js\";const A=v();let _=class extends(a.LoadableMixin(p.EsriPromiseMixin(f))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new L(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,o=t.associatedLayerID;return null!=r&&\"number\"==typeof o?new h({portalItem:r,customParameters:this.customParameters,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return\"\"}get globalIdField(){if(null!=this.fields)for(const e of this.fields)if(\"global-id\"===e.type)return e.name;return\"\"}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get customParameters(){return this.layer.customParameters}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=null!=e?e.signal:null,r=this._fetchService(t).then((()=>{this.indexInfo=S(this.parsedUrl.path,this.rootNode,this.nodePages,this.customParameters,this.apiKey,n.getLogger(this),t)}));return this.addResolvingPromise(r),Promise.resolve(this)}createPopupTemplate(e){return Q(this,e)}async _fetchService(e){const t=(await o(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getField(e)?.domain??null;return this.associatedLayer?b(this.associatedLayer,e,t,r):r}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return null!=this.associatedLayer?this.associatedLayer.types??[]:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:g,{query:t,operations:{supportsQuery:r},data:{supportsZ:o,supportsM:s,isVersioned:i}}=e;return{query:t,operations:{supportsQuery:r},data:{supportsZ:o,supportsM:s,isVersioned:i}}}createQuery(){const e=new q;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryExtent(e||this.createQuery(),t)))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatureCount(e||this.createQuery(),t)))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatures(e||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this;return e}))}async queryObjectIds(e,t){const r=await this._getAssociatedLayerForQuery();return(await r.queryObjectIds(e||this.createQuery(),t)).filter(T)}async queryCachedAttributes(e,t){const r=I(this.fieldsIndex,await D(this,R(this)));return E(this.parsedUrl.path,this.attributeStorageInfo,e,t,r,this.apiKey,this.customParameters)}async queryCachedFeature(e,r){const o=await this.queryCachedAttributes(e,[r]);if(!o||0===o.length)throw new s(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");return new t({attributes:o[0],layer:this,sourceLayer:this})}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([l({readOnly:!0})],_.prototype,\"parsedUrl\",null),e([l({type:F,readOnly:!0})],_.prototype,\"nodePages\",void 0),e([l({type:[w],readOnly:!0})],_.prototype,\"materialDefinitions\",void 0),e([l({type:[O],readOnly:!0})],_.prototype,\"textureSetDefinitions\",void 0),e([l({type:[x],readOnly:!0})],_.prototype,\"geometryDefinitions\",void 0),e([l({readOnly:!0})],_.prototype,\"serviceUpdateTimeStamp\",void 0),e([l({readOnly:!0})],_.prototype,\"store\",void 0),e([l({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],_.prototype,\"rootNode\",void 0),e([l({readOnly:!0})],_.prototype,\"attributeStorageInfo\",void 0),e([l(A.fields)],_.prototype,\"fields\",void 0),e([l({readOnly:!0})],_.prototype,\"fieldsIndex\",null),e([l({readOnly:!0,type:h})],_.prototype,\"associatedLayer\",void 0),e([y(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],_.prototype,\"readAssociatedLayer\",null),e([l(A.outFields)],_.prototype,\"outFields\",void 0),e([l({type:String,readOnly:!0})],_.prototype,\"objectIdField\",null),e([l({type:String,readOnly:!0})],_.prototype,\"globalIdField\",null),e([l({readOnly:!0,type:String,json:{read:!1}})],_.prototype,\"displayField\",null),e([l({readOnly:!0,type:String})],_.prototype,\"apiKey\",null),e([l({readOnly:!0,type:String})],_.prototype,\"customParameters\",null),e([l({readOnly:!0,type:c})],_.prototype,\"fullExtent\",null),e([l({readOnly:!0,type:m})],_.prototype,\"spatialReference\",null),e([l({readOnly:!0})],_.prototype,\"version\",null),e([l({readOnly:!0,type:U})],_.prototype,\"elevationInfo\",null),e([l({readOnly:!0,type:Number})],_.prototype,\"minScale\",null),e([l({readOnly:!0,type:Number})],_.prototype,\"maxScale\",null),e([l({readOnly:!0,type:Number})],_.prototype,\"effectiveScaleRange\",null),e([l({type:[\"hide\",\"show\"],json:{write:!0}})],_.prototype,\"listMode\",void 0),e([l({types:P,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],_.prototype,\"renderer\",void 0),e([l({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],_.prototype,\"definitionExpression\",void 0),e([l(j)],_.prototype,\"popupEnabled\",void 0),e([l({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],_.prototype,\"popupTemplate\",void 0),e([l({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],_.prototype,\"normalReferenceFrame\",void 0),e([l({readOnly:!0,json:{read:!1}})],_.prototype,\"defaultPopupTemplate\",null),e([l()],_.prototype,\"types\",null),e([l()],_.prototype,\"typeIdField\",null),e([l({json:{write:!1}}),u(new i({\"3DObject\":\"3d-object\",Point:\"point\"}))],_.prototype,\"layerType\",void 0),e([l()],_.prototype,\"geometryType\",null),e([l()],_.prototype,\"profile\",null),e([l({readOnly:!0,json:{read:!1}})],_.prototype,\"capabilities\",null),e([l({readOnly:!0})],_.prototype,\"statisticsInfo\",void 0),_=e([d(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],_);const C=_;export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import t from\"../../../core/Identifiable.js\";import i from\"../../../core/Promise.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=(p,n)=>{let l=class extends(i.EsriPromiseMixin(t.IdentifiableMixin(r.EventedMixin(p)))){constructor(e){super(e)}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!!this.sublayer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.sublayer?.opacity)*e(this.parent?.fullOpacity)}canResume(){return!this.parent?.suspended&&this.view?.ready&&this.visible||!1}isUpdating(){return!1}};return e([s()],l.prototype,\"sublayer\",void 0),e([s()],l.prototype,\"parent\",void 0),e([s()],l.prototype,\"view\",void 0),e([s({readOnly:!0})],l.prototype,\"suspended\",null),e([s({type:Boolean,readOnly:!0})],l.prototype,\"updating\",null),e([s()],l.prototype,\"visible\",null),e([s()],l.prototype,\"fullOpacity\",null),l=e([o(\"esri.views.3d.layers.BuildingSublayerView3D\")],l),l};export{p as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{createMaterialFromEdges as r}from\"../support/edgeUtils.js\";import{ColorMixModeEnum as o}from\"../support/symbolColorUtils.js\";var a;!function(e){e[e.Solid=0]=\"Solid\",e[e.WireFrame=1]=\"WireFrame\",e[e.XRay=2]=\"XRay\"}(a||(a={}));const l=.15,t=.5*l;function i(e){switch(e.filterMode.type){case\"solid\":return{mode:a.Solid};case\"wire-frame\":return{mode:a.WireFrame,edgeMaterial:r(e.filterMode.edges,{})};case\"x-ray\":return{mode:a.XRay}}}function c(e,r){if(null==r)return e.color[3]=0,void(e.edgeMaterial=null);switch(r.mode){case a.Solid:return;case a.WireFrame:return e.color[3]=0,void(e.edgeMaterial=r.edgeMaterial);case a.XRay:return e.color[0]=1,e.color[1]=1,e.color[2]=1,e.color[3]*=l,e.colorMixMode=o.Replace,e.castShadows=!1,e.pickable=!1,void(e.edgeMaterial=s(e.edgeMaterial))}}function s(e){return null==e?null:(d.lastMaterial!==e&&(d.cachedMaterial=n(e),d.lastMaterial=e),d.cachedMaterial)}function n(r){const o=e(r.color);return o[3]*=t,{...r,color:o}}const d={cachedMaterial:null,lastMaterial:null};export{a as FilterModeEnum,c as applyFilterMode,i as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{throwIfAborted as l,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import{syncAndInitial as o,initial as n}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import h from\"../../../layers/support/FeatureFilter.js\";import{fixFields as y,unpackFieldNames as c,populateMissingFields as f}from\"../../../layers/support/fieldUtils.js\";import m from\"../../../rest/support/Query.js\";import{isNumber as g}from\"../../../support/guards.js\";import{BuildingSublayerView3DMixin as F}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as b}from\"./I3SMeshView3D.js\";import{ForAllFeaturesMode as _}from\"./II3SMeshView3D.js\";import{applyFilterMode as w}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as E}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as x}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as S}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as j,I3SQueryFeature as v}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as I}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as Q,getIndexCrs as q}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as R}from\"./support/DefinitionExpressionSceneLayerView.js\";import{TemporalSceneLayerView as L}from\"./support/TemporalSceneLayerView.js\";import V from\"../../layers/BuildingComponentSublayerView.js\";import{hasPopupTemplate as U,getRequiredFields as A,getFetchPopupTemplate as C}from\"../../layers/support/popupUtils.js\";import{isInEffectiveScaleRange as H}from\"../../support/layerViewUtils.js\";import{TaskPriority as O}from\"../../support/Scheduler.js\";let D=class extends(L(R(b(F(V))))){constructor(e){super(e),this.type=\"building-component-sublayer-3d\",this._elevationContext=\"scene\",this._supportsLabeling=!1,this.requiredFields=[],this.progressiveLoadFactor=1,this._queryEngine=null}get i3slayer(){return this.sublayer}get layerViewUid(){return this.layerView.uid}get layerId(){return this.sublayer.layer.id}get sublayerId(){return this.sublayer.id}get layerPopupEnabledAndHasTemplate(){return this.sublayer.popupEnabled&&U(this.sublayer,this.layerView.view.popup?.defaultPopupTemplateEnabled)}initialize(){this._updatingHandles.add((()=>this.mergedFilter),(e=>{null!=e&&x.checkSupport(e)?null==this._i3sFilter?this._i3sFilter=new x({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError),addTimeFilter:(e,r)=>this.addTimeFilter(e,r)}):this._i3sFilter.viewFilter=e:this._i3sFilter=s(this._i3sFilter)}),o),this._updatingHandles.add((()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields]),(()=>this._updateRequiredFields())),this._updatingHandles.add((()=>this.sublayer.renderer),(e=>this._rendererChange(e)),n);const e=()=>this._filterChange();this._updatingHandles.add((()=>this.parsedDefinitionExpression),e),this._updatingHandles.add((()=>this._i3sFilter?.sortedObjectIds),e),this._updatingHandles.add((()=>this._i3sFilter?.parsedWhereClause),e),this._updatingHandles.add((()=>this.getTimeFilterDependencies()),e),this._updatingHandles.add((()=>this.mergedFilter),e),this._updatingHandles.add((()=>[this._i3sFilter?.parsedGeometry,this.filter?.spatialRelationship]),(()=>this._geometryFilterChange())),this._updatingHandles.add((()=>this.parsedFilterExpressions),(()=>this._updateSymbologyOverride()),n),this.addResolvingPromise(this._updateRequiredFields())}get lodFactor(){return this.view.qualitySettings.sceneService.object.lodFactor}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=p.create(e,{fieldsIndex:this.sublayer.fieldsIndex})}catch(a){return i.getLogger(this).error(\"Failed to parse filterExpression: \"+a),null}if(!t.isStandardized)return i.getLogger(this).error(\"filterExpression is using non standard function\"),null;const s=[],l=t.fieldNames;return Q(l,this.sublayer.fieldsIndex,{missingFields:s}),s.length>0?(i.getLogger(this).error(`filterExpression references unknown fields: ${s.join(\", \")}`),null):[t,r]})).filter((e=>null!=e))}get filter(){return this._get(\"filter\")}set filter(e){this._set(\"filter\",x.checkSupport(e)?e:null)}isUpdating(){return super.isUpdating()||(this._i3sFilter?.updating??!1)}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return w(t,l)}catch(i){this.logError(i)}return w(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return y(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),new Array))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...c(r,i),...t]}return y(r,t)}_createLayerGraphic(e){return new r({attributes:e,layer:this.sublayer.layer,sourceLayer:this.sublayer})}canResume(){return super.canResume()&&H(this.i3slayer.effectiveScaleRange,this.view.scale)&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeaturesFromGraphics(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(0===e.length)return[];const s=[],o=[],n=null!=this.sublayer.associatedLayer?await this.sublayer.associatedLayer.load(r):this.sublayer,u=c(this.sublayer.fieldsIndex,await A(n,C(this.sublayer,r)));l(r);const d=new Set;for(const i of e)f(i,u,d)?o.push(i):s.push(i);return 0===o.length?s:(null!=this.sublayer.associatedLayer&&await this.sublayer.associatedLayer.load().catch((()=>i.getLogger(this).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(o,Array.from(d)).catch((e=>(a(e),o))).then((e=>s.concat(e))))}async _updateRequiredFields(){const e=y(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields,...this.filterExpressionFields]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?C(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),this._i3sFilter?.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new m(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then((e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}async queryObjectIds(e,r){return(await this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)).filter(g)}_ensureQueryEngine(){return this._queryEngine??=this._createQueryEngine(),this._queryEngine}_createQueryEngine(){const e=E(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new S({layerView:this,priority:O.FEATURE_QUERY_ENGINE,spatialIndex:new I({featureAdapter:new j({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e(new v(r,t,i))),r,_.QUERYABLE),getFeatureExtent:e,sourceSpatialReference:q(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():m.from(e))}};e([u()],D.prototype,\"i3slayer\",null),e([u()],D.prototype,\"layerView\",void 0),e([u()],D.prototype,\"lodFactor\",null),e([u({readOnly:!0})],D.prototype,\"parsedFilterExpressions\",null),e([u({type:h})],D.prototype,\"filter\",null),e([u()],D.prototype,\"_i3sFilter\",void 0),e([u({type:[String],readOnly:!0})],D.prototype,\"filterExpressionFields\",null),e([u({type:[String],readOnly:!0})],D.prototype,\"requiredFields\",void 0),e([u({type:[String],readOnly:!0})],D.prototype,\"availableFields\",null),D=e([d(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],D);export{D as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";import e from\"./LayerView.js\";class s extends e{constructor(r){super(r),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([o()],s.prototype,\"layer\",void 0),r([o()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import s from\"../../../core/Error.js\";import{handlesGroup as i}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{getOrCreateMapValue as n}from\"../../../core/MapUtils.js\";import{abortMaybe as l}from\"../../../core/maybe.js\";import{isAbortError as a,allSettledValues as u,throwIfAborted as p,createResolver as h}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import{isQuery as g,isGraphic as m}from\"../../../support/guards.js\";import w from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as b}from\"./BuildingSublayerView3D.js\";import{LayerView3D as V}from\"./LayerView3D.js\";import{parseFilterMode as j}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as _}from\"./i3s/I3SUtil.js\";import{emptyHighlightHandle as S,normalizeHighlightTargetExceptQuery as C}from\"./support/highlightUtils.js\";import{LayerViewPerformanceInfo as v}from\"./support/LayerViewPerformanceInfo.js\";import{updatingProgress as B}from\"../support/updatingProperties.js\";import M from\"../../layers/BuildingSceneLayerView.js\";import{isInEffectiveScaleRange as E}from\"../../support/layerViewUtils.js\";const F=b(r);let P=class extends(V(M)){constructor(e){super(e),this.type=\"building-scene-3d\",this.sublayerViews=new t,this._rejectedSublayerViews=new Map,this._abortController=new AbortController,this._loadingComponents=0,this._pendingWhenSublayerViews=new Map,this.ignoresMemoryFactor=!1}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,t=null!=r?r.filterBlocks?.find((e=>\"solid\"===e.filterMode.type)):null;return t?t.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r?.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression??\"\",j(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}get visibleAtCurrentScale(){return E(this.layer.effectiveScaleRange,this.view.scale)}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){_(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSublayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._rejectedSublayerViews=null,this._abortController=l(this._abortController)}_initializeSublayerViews(e,r){const t=this,i=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const t=new F({sublayer:e,view:i,parent:r});this._initializeSublayerViews(e.sublayers,t)}else\"mesh\"===e.geometryType?(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const s=new w({sublayer:e,layerView:t,view:i,parent:r});this.sublayerViews.push(s);const o=this._pendingWhenSublayerViews.get(e);if(o){for(const e of o)e.resolve(s);this._pendingWhenSublayerViews.delete(e)}this.addHandles([c((()=>s.updating),(()=>this.notifyChange(\"updating\")),y),c((()=>s.updatingProgress),(()=>this.notifyChange(\"updatingProgressValue\")),y)])})).catch((r=>{a(r)||o.getLogger(this).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r),this._rejectWhenSublayerView(e,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}))):this._rejectWhenSublayerView(e,new s(\"view:no-layerview-for-sublayer\",`No layerview created for sublayer ${e.id}`))}))}getGraphicFromIntersectorTarget(e,r){for(const t of this.sublayerViews.items)if(t.sublayer.id===e.sublayerId)return t.getGraphicFromIntersectorTarget(e,r);return null}async fetchPopupFeaturesFromGraphics(e,r){if(0===e.length)return[];const t=I(e,(e=>e.sourceLayer)),s=[];for(const[o,n]of t){const e=this._findComponent(o);null!=e&&s.push(e.fetchPopupFeaturesFromGraphics(n,r))}const i=await u(s);return p(r),i.flat()}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return null==r?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.id===e.sublayerId)return r.getAABBFromIntersectorTarget(e);return null}async whenSublayerView(e){const r=this._findComponent(e);if(null!=r)return r;const t=this._rejectedSublayerViews.get(e);if(null!=t)throw t;const s=this._pendingWhenSublayerViews.get(e),i=h();return s?s.push(i):this._pendingWhenSublayerViews.set(e,[i]),i.promise}_rejectWhenSublayerView(e,r){this._rejectedSublayerViews.set(e,r);const t=this._pendingWhenSublayerViews.get(e);if(t){for(const e of t)e.reject(r);this._pendingWhenSublayerViews.delete(e)}}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e,r){if(g(e))return S;const t=C(e);if(0===t.length)return S;if(m(t[0])){const e=t,s=new Map;for(const r of e)n(s,r.sourceLayer,(()=>[])).push(r);const o=[];return this.sublayerViews.forEach((e=>{const t=s.get(e.sublayer);t&&o.push(e.highlight(t,r))})),i(o)}return S}get usedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.usedMemory),0)}get unloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.unloadedMemory),0)}get performanceInfo(){return new v(this.usedMemory)}};function I(e,r){const t=new Map,s=e.length;for(let i=0;i<s;i++){const s=e[i],o=r(s,i,e),n=t.get(o);n?n.push(s):t.set(o,[s])}return t}e([d()],P.prototype,\"sublayerViews\",void 0),e([d()],P.prototype,\"_rejectedSublayerViews\",void 0),e([d({readOnly:!0})],P.prototype,\"filterExpression\",null),e([d({readOnly:!0})],P.prototype,\"filterExpressions\",null),e([d(B)],P.prototype,\"updatingProgress\",void 0),e([d({readOnly:!0,dependsOn:[]})],P.prototype,\"updatingProgressValue\",null),e([d({readOnly:!0})],P.prototype,\"visibleAtCurrentScale\",null),P=e([f(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],P);const L=P;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as r}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as l}from\"../support/commonProperties.js\";let n=class extends(o.IdentifiableMixin(r)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}readTitle(e,o){return\"string\"==typeof o.alias?o.alias:\"string\"==typeof o.name?o.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],n.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],n.prototype,\"readTitle\",null),e([t()],n.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],n.prototype,\"id\",void 0),e([s(\"service\",\"id\")],n.prototype,\"readIdOnlyOnce\",null),e([t(l(String))],n.prototype,\"modelName\",void 0),e([t(l(Boolean))],n.prototype,\"isEmpty\",void 0),e([t({type:Boolean,nonNullable:!0})],n.prototype,\"legendEnabled\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],n.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],n.prototype,\"opacity\",void 0),n=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],n);export{n as default};\n"],"names":["a","l","type","e","readOnly","json","origins","service","read","source","reader","p","r","o","t","Array","isArray","map","layerType","c","n","y","messages","push","s","definition","context","u","constructor","super","this","listMode","sublayers","loadAll","forEachSublayer","write","prototype","i","sublayersProperty","readSublayers","forEach","A","v","_","LoadableMixin","EsriPromiseMixin","f","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","store","attributeStorageInfo","fields","associatedLayer","outFields","renderer","definitionExpression","popupEnabled","popupTemplate","parsedUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","layer","path","concat","id","query","fieldsIndex","L","readAssociatedLayer","associatedFeatureServiceItem","associatedLayerID","h","portalItem","customParameters","layerId","objectIdField","name","globalIdField","displayField","apiKey","fullExtent","spatialReference","version","elevationInfo","minScale","maxScale","effectiveScaleRange","defaultPopupTemplate","createPopupTemplate","load","signal","_fetchService","then","S","rootNode","getLogger","addResolvingPromise","Promise","resolve","Q","_objectSpread","token","responseType","data","origin","url","getField","get","getFieldDomain","_this$getField$domain","_this$getField","domain","b","getFeatureType","types","_this$associatedLayer","typeIdField","geometryType","profile","capabilities","g","operations","supportsQuery","supportsZ","supportsM","isVersioned","createQuery","q","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryObjectIds","filter","T","queryCachedAttributes","I","D","R","E","queryCachedFeature","length","attributes","getFieldUsageInfo","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","error","F","w","O","x","String","m","U","Number","P","value","enabled","allowNull","j","target","Point","d","C","IdentifiableMixin","EventedMixin","initialize","suspended","canResume","updating","isUpdating","visible","_this$sublayer","sublayer","_overrideIfSome","fullOpacity","_this$sublayer2","_this$parent","opacity","parent","_this$parent2","_this$view","view","ready","Boolean","Solid","WireFrame","XRay","filterMode","mode","edgeMaterial","edges","color","colorMixMode","Replace","castShadows","pickable","lastMaterial","cachedMaterial","arguments","availableFields","Error","highlight","V","_elevationContext","_supportsLabeling","requiredFields","progressiveLoadFactor","_queryEngine","i3slayer","layerViewUid","layerView","uid","sublayerId","layerPopupEnabledAndHasTemplate","_this$layerView$view$","popup","defaultPopupTemplateEnabled","_updatingHandles","add","mergedFilter","checkSupport","_i3sFilter","viewFilter","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","addTimeFilter","definitionExpressionFields","filterExpressionFields","_updateRequiredFields","_rendererChange","_filterChange","parsedDefinitionExpression","_this$_i3sFilter","sortedObjectIds","_this$_i3sFilter2","parsedWhereClause","getTimeFilterDependencies","_this$_i3sFilter3","_this$filter","parsedGeometry","spatialRelationship","_geometryFilterChange","parsedFilterExpressions","_updateSymbologyOverride","lodFactor","qualitySettings","sceneService","object","modelName","filterExpressions","_ref","create","isStandardized","fieldNames","missingFields","join","_get","_set","_this$_i3sFilter$upda","_this$_i3sFilter4","_setSymbologyOverride","testFeature","reduce","_ref2","_createLayerGraphic","H","scale","_controller","rootNodeVisible","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","Set","catch","warn","whenGraphicAttributes","from","getRequiredFields","getFilters","_this$_i3sFilter5","addFilters","crsIndex","_collection","outSpatialReference","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","executeQueryForCount","executeQuery","executeQueryForIds","_this$_queryEngine","_createQueryEngine","renderSpatialReference","priority","FEATURE_QUERY_ENGINE","spatialIndex","featureAdapter","getFeatureExtent","forAllFeatures","_forAllFeatures","QUERYABLE","sourceSpatialReference","viewSpatialReference","_addDefinitionExpressionToQuery","sublayerViews","M","_rejectedSublayerViews","Map","_abortController","AbortController","_loadingComponents","_pendingWhenSublayerViews","ignoresMemoryFactor","filterExpression","_r$filterBlocks","activeFilterId","filters","find","filterBlocks","toArray","_e$filterExpression","updatingProgressValue","updatingProgress","visibleAtCurrentScale","some","viewingMode","_initializeSublayerViews","destroy","isEmpty","delete","addHandles","notifyChange","_rejectWhenSublayerView","getGraphicFromIntersectorTarget","items","set","_findComponent","flat","whenGraphicBounds","reject","getAABBFromIntersectorTarget","whenSublayerView","promise","usedMemory","unloadedMemory","performanceInfo","B","dependsOn","title","legendEnabled","readTitle","alias","readIdOnlyOnce","ignoreOrigin","isRequired","nonNullable"],"sourceRoot":""}